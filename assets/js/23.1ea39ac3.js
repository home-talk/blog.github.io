(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{503:function(a,s,t){"use strict";t.r(s);var e=t(4),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("由于误操作，服务器崩了，自然 MySQL 也无法再启动。所以需要从硬盘中将 MySQL 的数据恢复")]),a._v(" "),t("h2",{attrs:{id:"_1、创建好数据库，表结构需要和源表一样和查看-iba-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、创建好数据库，表结构需要和源表一样和查看-iba-文件"}},[a._v("#")]),a._v(" 1、创建好数据库，表结构需要和源表一样和查看 .iba 文件")]),a._v(" "),t("p",[a._v("创建数据库")]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("create database databaseName  character "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" utf8mb4 collate utf8mb4_general_ci"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("使用以下语句查询数据库文件存储的位置")]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("SHOW VARIABLES LIKE "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'datadir'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"_2、执行以下语句删除当前-ibd-文件："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、执行以下语句删除当前-ibd-文件："}},[a._v("#")]),a._v(" 2、执行以下语句删除当前.ibd 文件：")]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("ALTER TABLE tbl_name DISCARD TABLESPACE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"_3、从损坏的数据库中复制-ibd-到正确的目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、从损坏的数据库中复制-ibd-到正确的目录"}},[a._v("#")]),a._v(" 3、从损坏的数据库中复制 "),t("code",[a._v(".ibd")]),a._v(" 到正确的目录")]),a._v(" "),t("h2",{attrs:{id:"_4、执行以下语句，告诉-innodb-您将新-ibd-文件用于表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、执行以下语句，告诉-innodb-您将新-ibd-文件用于表"}},[a._v("#")]),a._v(" 4、执行以下语句，告诉 InnoDB 您将新 .ibd 文件用于表")]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("ALTER TABLE tbl_name IMPORT TABLESPACE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);