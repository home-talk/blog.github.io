(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{521:function(e,s,t){"use strict";t.r(s);var r=t(4),a=Object(r.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"下载安装-certbot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载安装-certbot"}},[e._v("#")]),e._v(" 下载安装 Certbot")]),e._v(" "),t("p",[e._v("下载地址："),t("a",{attrs:{href:"https://github.com/certbot/certbot/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/certbot/certbot/releases"),t("OutboundLink")],1),e._v("\n直接双击运行安装")]),e._v(" "),t("p",[e._v("使用以下命令确认已安装的 Certbot 版本：")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("certbot --version\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"启动-certbot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-certbot"}},[e._v("#")]),e._v(" 启动 Certbot")]),e._v(" "),t("p",[e._v("双击打开安装目录下的 run.bat （默认安装路径是 C:\\Program Files (x86)\\Certbot\\）")]),e._v(" "),t("h2",{attrs:{id:"certbot-申请泛域名证书-手动验证"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#certbot-申请泛域名证书-手动验证"}},[e._v("#")]),e._v(" Certbot 申请泛域名证书 手动验证")]),e._v(" "),t("p",[e._v("运行如下命令开始获取证书")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("certbot certonly --preferred-challenges dns --manual  -d *.test.com --server https://acme-v02.api.letsencrypt.org/directory\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("参数:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("--preferred-challenges dns")]),e._v(": 认证方式选择 DNS, 泛域名支持 DNS")]),e._v(" "),t("li",[t("code",[e._v("--manual")]),e._v(": 手动验证模式")]),e._v(" "),t("li",[t("code",[e._v("-d \\*.baidu.com")]),e._v(": 就是要申请的泛域名了")]),e._v(" "),t("li",[t("code",[e._v("--server https://acme-v02.api.letsencrypt.org/directory")]),e._v(": 泛域名证书是新功能, 如果要使用就得加上这个参数")])]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[e._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("-------------------------------------------------------------------------------\nPlease deploy a DNS TXT record under the name\n_acme-challenge.example.com with the following value:\n\nowmBJHMKS4B1iR3oGVmrQvkuRmf1x3FqG1EeXpSEGxc\n\nOnce this is deployed,\n-------------------------------------------------------------------------------\nPress Enter to Continue\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])]),t("p",[e._v("添加 DNS 的 TXT 记录")]),e._v(" "),t("p",[e._v("看到上述的提示后，修改域名的 DNS 记录，添加一条 "),t("code",[e._v("TXT")]),e._v(" 记录，主机名为"),t("code",[e._v("_acme-challenge")]),e._v("，而其中的内容就是 "),t("code",[e._v("lets encrypt")]),e._v(" 生成的随机字符串 "),t("code",[e._v("owmBJHMKS4B1iR3oGVmrQvkuRmf1x3FqG1EeXpSEGxc")]),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"pem-格式转为-pfx-格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pem-格式转为-pfx-格式"}},[e._v("#")]),e._v(" PEM 格式转为 PFX 格式")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("openssl pkcs12 -export -out baidu_combined.pfx -in fullchain.pem -inkey privkey.pem\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);